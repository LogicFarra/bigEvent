"use strict";(self["webpackChunkevent"]=self["webpackChunkevent"]||[]).push([[354],{6354:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",[t("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("文章分类")]),t("el-button",{on:{click:function(t){e.dialogVisible=!0,e.add=!0}}},[e._v("添加分类")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:e.tableData}},[t("el-table-column",{attrs:{label:"序号",width:"100",type:"index"}}),t("el-table-column",{attrs:{label:"分类名称",prop:"cate_name"}}),t("el-table-column",{attrs:{label:"分类别名",prop:"cate_alias"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.ediot(a.row)}}},[e._v("修改")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteFn(a.row)}}},[e._v("删除")])]}}])})],1),t("el-dialog",{attrs:{visible:e.dialogVisible,title:"添加文章分类"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closeFn}},[t("el-form",{ref:"form",attrs:{"label-width":"100px",model:e.cate,rules:e.rules}},[t("el-form-item",{attrs:{label:"文章分类",prop:"cate_name"}},[t("el-input",{attrs:{type:"text"},model:{value:e.cate.cate_name,callback:function(t){e.$set(e.cate,"cate_name",t)},expression:"cate.cate_name"}})],1),t("el-form-item",{attrs:{label:"分类别名",prop:"cate_alias"}},[t("el-input",{attrs:{type:"text"},model:{value:e.cate.cate_alias,callback:function(t){e.$set(e.cate,"cate_alias",t)},expression:"cate.cate_alias"}})],1),t("el-form-item",[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.done}},[e._v("确 定")])],1)],1)],1)],1)],1)},i=[],l=a(7877),r={name:"artCate",data(){return{add:Boolean,tableData:[],dialogVisible:!1,cate:{id:Number,cate_name:"",cate_alias:""},rules:{cate_name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{pattern:/^\S{1,10}$/,message:"名称只能是1-10位非空字符",trigger:"blur"}],cate_alias:[{required:!0,message:"请输入分类别名",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{1,15}$/,message:"分类别名必须是1-15位的字母数字",trigger:"blur"}]}}},created(){this.getArtcle()},methods:{async getArtcle(){const{data:e}=await(0,l.SD)();if(0!==e.code)return this.$message.error(e.message);this.tableData=e.data},closeFn(){this.$refs.form.resetFields()},async operation(e){const{data:t}=await e(this.cate);if(0!==t.code)return this.$message.error(t.message);this.$message.success(t.message),this.getArtcle()},done(){this.$refs.form.validate((async e=>e?this.add?this.operation(l.nJ):(this.operation(l.pk),void(this.dialogVisible=!1)):this.$message.error("输入不符合格式")))},async deleteFn(e){const{data:t}=await(0,l.MX)(e.id);if(0!==t.code)return this.$message.error(t.message);this.$message.success(t.message),this.getArtcle()},ediot(e){this.add=!1;const{id:t,cate_name:a,cate_alias:s}=e;this.cate.cate_name=a,this.cate.cate_alias=s,this.cate.id=t,this.dialogVisible=!0}}},n=r,c=a(1001),o=(0,c.Z)(n,s,i,!1,null,"2ffdf929",null),d=o.exports}}]);
//# sourceMappingURL=354.e3348f13.js.map