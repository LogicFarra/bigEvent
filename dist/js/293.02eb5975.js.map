{"version":3,"file":"js/293.02eb5975.js","mappings":"sJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,SAAS,YAAY,OAAO,cAAc,QAAQC,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACN,EAAIO,GAAG,UAAUL,EAAG,MAAM,CAACM,YAAY,aAAa,CAAGR,EAAIS,OAAkFP,EAAG,MAAM,CAACG,MAAM,CAAC,IAAML,EAAIS,OAAO,IAAM,MAAlHP,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMK,EAAQ,MAA+B,IAAM,MAAoDR,EAAG,QAAQ,CAACS,IAAI,QAAQP,YAAY,CAAC,QAAU,QAAQC,MAAM,CAAC,KAAO,OAAO,OAAS,WAAWO,GAAG,CAAC,OAASZ,EAAIa,WAAWX,EAAG,MAAMA,EAAG,YAAY,CAACU,GAAG,CAAC,MAAQZ,EAAIc,YAAY,CAACd,EAAIO,GAAG,UAAUL,EAAG,YAAY,CAACU,GAAG,CAAC,MAAQZ,EAAIe,eAAe,CAACf,EAAIO,GAAG,WAAW,IAC9oB,EACGS,EAAkB,G,UCetB,GACAC,KAAAA,aACAC,OACA,OACAT,OAAAA,GAEA,EACAU,QAAAA,CACAN,QAAAA,GACA,uBACA,gBAEA,CAEA,uBACAO,EAAAA,cAAAA,EAAAA,IACAA,EAAAA,OAAAA,IACA,4BAEA,CACA,EACAN,YACA,wBACA,EACA,qBACA,MAAAI,KAAAA,SAAA,qBACA,oDACA,iCACA,mCACA,IC9CmQ,I,UCQ/PG,GAAY,OACd,EACAtB,EACAiB,GACA,EACA,KACA,WACA,MAIF,EAAeK,EAAiB,O","sources":["webpack://event/./src/views/personalCenter/UserAvatar.vue","webpack://event/src/views/personalCenter/UserAvatar.vue","webpack://event/./src/views/personalCenter/UserAvatar.vue?030d","webpack://event/./src/views/personalCenter/UserAvatar.vue?e97c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',[_c('div',{staticStyle:{\"text-align\":\"center\",\"font-size\":\"20px\",\"font-weight\":\"bold\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"用户头像\")]),_c('div',{staticClass:\"container\"},[(!_vm.avatar)?_c('img',{attrs:{\"src\":require(\"@/assets/images/default.png\"),\"alt\":\"\"}}):_c('img',{attrs:{\"src\":_vm.avatar,\"alt\":\"\"}}),_c('input',{ref:\"input\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.picFile}}),_c('br'),_c('el-button',{on:{\"click\":_vm.chooseImg}},[_vm._v(\"选择图片\")]),_c('el-button',{on:{\"click\":_vm.updateAvatar}},[_vm._v(\"上传头像\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card>\r\n      <div slot=\"header\" style=\"text-align:center;font-size:20px;font-weight: bold;\">用户头像</div>\r\n      <div class=\"container\">\r\n          <img v-if=\"!avatar\" src=\"@/assets/images/default.png\" alt=\"\">\r\n          <img v-else :src=\"avatar\" alt=\"\">\r\n          <input type=\"file\" accept=\"image/*\" style=\"display:none\" @change=\"picFile\" ref=\"input\">\r\n          <br>\r\n          <el-button @click=\"chooseImg\">选择图片</el-button>\r\n          <el-button @click=\"updateAvatar\">上传头像</el-button>\r\n      </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\n// 更新用户头像接口\r\nimport { updateUserAvatar } from '@/api'\r\nexport default {\r\n    name:'UserAvatar',\r\n    data(){\r\n        return {\r\n            avatar:''\r\n        }\r\n    },\r\n    methods:{\r\n        picFile(e){\r\n            const data = e.target.files\r\n            if(data.length === 0){\r\n                return\r\n            }else{\r\n                // 把图片转换成base64的字符串\r\n                const a = new FileReader()\r\n                a.readAsDataURL(data[0])\r\n                a.onload = (e)=>{\r\n                    this.avatar = e.target.result\r\n                }\r\n            }\r\n        },\r\n        chooseImg(){\r\n            this.$refs.input.click()\r\n        },\r\n        async updateAvatar(){\r\n           const {data:res} = await updateUserAvatar(this.avatar)\r\n           if(res.code !== 0) return this.$message.error(res.message)\r\n           this.$message.success(res.message)\r\n           this.$store.dispatch('getUserInfo')\r\n        }\r\n    }\r\n}   \r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n    .container{\r\n        img{\r\n            width: 200px;\r\n            height:200px;\r\n        }\r\n        .el-button{\r\n            margin-top:20px;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserAvatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserAvatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAvatar.vue?vue&type=template&id=43bee4f0&scoped=true&\"\nimport script from \"./UserAvatar.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAvatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserAvatar.vue?vue&type=style&index=0&id=43bee4f0&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43bee4f0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","slot","_v","staticClass","avatar","require","ref","on","picFile","chooseImg","updateAvatar","staticRenderFns","name","data","methods","a","component"],"sourceRoot":""}